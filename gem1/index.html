<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survival Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="blocker">
        <div id="instructions">
            <span style="font-size:36px">Click to play</span>
            <br /><br />
            Move: WASD<br/>
            Jump: SPACE<br/>
            Look: MOUSE<br/>
            Interact/Gather/Attack: LEFT CLICK<br/>
            Inventory: TAB<br/>
            Move Stack (Inv/Quickbar): SHIFT + CLICK<br/>
            <br/>
            <div id="settings">
                <h3>Initial Settings</h3>
                <label for="startResources">Resource Multiplier:</label>
                <select id="startResources">
                    <option value="1">Normal</option>
                    <option value="2">Double</option>
                    <option value="0">None</option>
                </select><br>
                <label for="playerSpeed">Player Speed:</label>
                <input type="number" id="playerSpeed" value="5" step="0.5" min="1"><br>
                <label for="playerHeight">Player Height:</label>
                <input type="number" id="playerHeight" value="1.8" step="0.1" min="1.0"><br>
                <button id="startButton">Start Game</button>
            </div>
             <p id="threejs-error" style="color: red; display: none;">
                Error: Three.js library not found or failed to load.
                Please ensure 'three.min.js' is present in the 'js/' folder and your browser supports WebGL.
            </p>
        </div>
    </div>

    <div id="game-container">
        <!-- UI Elements will be added here by ui.js -->
        <div id="crosshair">+</div>
        <div id="quick-bar"></div>
        <div id="inventory" class="hidden">
             <h2>Inventory</h2>
             <div id="inventory-grid"></div>
             <div id="crafting-menu">
                 <h3>Crafting</h3>
                 <ul id="crafting-recipes"></ul>
             </div>
             <button id="close-inventory">Close</button>
        </div>
        <div id="message-log"></div>
    </div>

    <!-- IMPORTANT: Load Three.js first -->
    <script src="js/three.min.js"></script>

    <!-- Then load game modules -->
	<script type="module" src="three.module.js"></script>
    <script src="js/PointerLockControls.js"></script> <!-- ADD THIS LINE -->
    <script src="js/utils.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/crafting.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/world.js"></script>
    <script src="js/player.js"></script>
    <script src="js/main.js"></script>
</body>
</html>